<template>
	<div class="header relative">
		<div class="admin-button" @click="$router.push('/admin')">
			<svg xmlns="http://www.w3.org/2000/svg" width="69" height="69" viewBox="0 0 69 69">
				<g id="Group_21" data-name="Group 21" transform="translate(-94 -82)">
					<circle id="Ellipse_5" data-name="Ellipse 5" cx="34.5" cy="34.5" r="34.5" transform="translate(94 82)" fill="#0a0a0a"/>
					<path id="Icon_awesome-crown" data-name="Icon awesome-crown" d="M37.125,31.5H7.875A1.128,1.128,0,0,0,6.75,32.625v2.25A1.128,1.128,0,0,0,7.875,36h29.25a1.128,1.128,0,0,0,1.125-1.125v-2.25A1.128,1.128,0,0,0,37.125,31.5ZM41.625,9a3.376,3.376,0,0,0-3.375,3.375,3.307,3.307,0,0,0,.309,1.392l-5.091,3.052A2.247,2.247,0,0,1,30.361,16L24.63,5.977a3.375,3.375,0,1,0-4.261,0L14.639,16a2.249,2.249,0,0,1-3.108.816L6.448,13.767A3.374,3.374,0,1,0,3.375,15.75a3.446,3.446,0,0,0,.541-.056L9,29.25H36l5.084-13.556a3.446,3.446,0,0,0,.541.056,3.375,3.375,0,0,0,0-6.75Z" transform="translate(106 99)" fill="#efc75e"/>
				</g>
			</svg>
		</div>
		
		<svg xmlns="http://www.w3.org/2000/svg" width="116" height="123.845" viewBox="0 0 116 123.845">
			<g id="Group_1" data-name="Group 1" transform="translate(-820.517 -391.875)">
				<g id="prediction" transform="translate(836.954 391.875)">
					<path id="Path_1" data-name="Path 1" d="M41.591-479.6a12.423,12.423,0,0,0-8.14,6.337c-1.347,2.732-1.727,5.977-.854,7.153a2.7,2.7,0,0,0,2.542,1.29c1.878,0,2.77-.949,3.055-3.245a6.2,6.2,0,0,1,4.307-5.483,6.134,6.134,0,0,1,7.248,3.226,4.8,4.8,0,0,1,.474,2.467c0,2.5-.664,3.662-3.4,5.768a14.23,14.23,0,0,0-4.573,5.009c-.873,1.784-1.082,3.055-1.006,6.129.057,2.732.171,3.074,1.366,3.947a3.432,3.432,0,0,0,3.263,0c1.2-.892,1.309-1.2,1.4-4.212.114-3.624.3-3.947,3.131-6.015a13.376,13.376,0,0,0,4.668-5.123,11.687,11.687,0,0,0,1.252-6.072,11.555,11.555,0,0,0-3.662-7.969A12.022,12.022,0,0,0,41.591-479.6Z" transform="translate(-32.128 479.875)" fill="#edeadf"/>
					<path id="Path_2" data-name="Path 2" d="M361.591-479.6a12.423,12.423,0,0,0-8.14,6.337c-1.347,2.732-1.727,5.977-.854,7.153a2.7,2.7,0,0,0,2.542,1.29c1.878,0,2.77-.949,3.055-3.245a6.2,6.2,0,0,1,4.307-5.483,6.134,6.134,0,0,1,7.248,3.226,4.8,4.8,0,0,1,.474,2.467c0,2.5-.664,3.662-3.4,5.768a14.23,14.23,0,0,0-4.573,5.009c-.873,1.784-1.081,3.055-1.006,6.129.057,2.732.171,3.074,1.366,3.947a3.432,3.432,0,0,0,3.263,0c1.2-.892,1.309-1.2,1.4-4.212.114-3.624.3-3.947,3.131-6.015a13.376,13.376,0,0,0,4.668-5.123,11.687,11.687,0,0,0,1.252-6.072,11.555,11.555,0,0,0-3.662-7.969A12.021,12.021,0,0,0,361.591-479.6Z" transform="translate(-291.412 479.875)" fill="#edeadf"/>
					<path id="Path_3" data-name="Path 3" d="M188.921-415.67a9.32,9.32,0,0,0-6.565,6.66,9.183,9.183,0,0,0,6.6,10.967c.968.247.93.266-1.954.266-4.288.019-6.053.588-8.178,2.618-2.2,2.087-2.827,4-2.827,8.633v3.169l1.575-1.063a24.136,24.136,0,0,1,27.246.019l1.537,1.044v-3.169c0-4.63-.626-6.546-2.827-8.633-2.125-2.03-3.89-2.6-8.178-2.618-2.922,0-2.941,0-1.916-.285A9.17,9.17,0,0,0,200-409.01,9.162,9.162,0,0,0,188.921-415.67Z" transform="translate(-148.702 428.093)" fill="#edeadf"/>
					<path id="Path_4" data-name="Path 4" d="M68.962-287.5a6.414,6.414,0,0,0-4.079,3.339,6.869,6.869,0,0,0-.038,5.028,5.817,5.817,0,0,0,2.732,2.865,4.2,4.2,0,0,0,2.808.626,4.5,4.5,0,0,0,2.58-.493,5.6,5.6,0,0,0,2.751-2.656,4.312,4.312,0,0,0,.645-2.808,4.312,4.312,0,0,0-.645-2.808,5.725,5.725,0,0,0-4.933-3.169A7.37,7.37,0,0,0,68.962-287.5Z" transform="translate(-58.266 324.079)" fill="#edeadf"/>
					<path id="Path_5" data-name="Path 5" d="M388.962-287.5a6.414,6.414,0,0,0-4.079,3.339,6.869,6.869,0,0,0-.038,5.028,5.817,5.817,0,0,0,2.732,2.865,4.2,4.2,0,0,0,2.808.626,4.5,4.5,0,0,0,2.58-.493,5.6,5.6,0,0,0,2.751-2.656,4.312,4.312,0,0,0,.645-2.808,4.312,4.312,0,0,0-.645-2.808,5.724,5.724,0,0,0-4.933-3.169A7.37,7.37,0,0,0,388.962-287.5Z" transform="translate(-317.549 324.079)" fill="#edeadf"/>
					<path id="Path_6" data-name="Path 6" d="M161.318-255.777a21.54,21.54,0,0,0-17.3,18.329l-.114,1.1h4.99l.55.55a1.152,1.152,0,0,1,0,1.935l-.55.55H143.9l.114,1.082A21.523,21.523,0,0,0,158.263-214.7a27.9,27.9,0,0,0,5.123,1.119c.209,0,.266-.512.266-2.486v-2.486l.55-.55a1.152,1.152,0,0,1,1.935,0l.55.55v2.486c0,1.973.057,2.486.266,2.486a27.63,27.63,0,0,0,4.952-1.063,21.375,21.375,0,0,0,13.4-13.282,27.9,27.9,0,0,0,1.119-5.123c0-.209-.512-.266-2.486-.266h-2.486l-.55-.55a1.83,1.83,0,0,1-.55-.968,1.83,1.83,0,0,1,.55-.968l.55-.55h2.486c1.973,0,2.486-.057,2.486-.266a27.9,27.9,0,0,0-1.119-5.123,22.1,22.1,0,0,0-8.178-10.739,23,23,0,0,0-9.335-3.51l-1.1-.114v4.99l-.55.55a1.83,1.83,0,0,1-.968.55,1.83,1.83,0,0,1-.968-.55l-.55-.55V-253.6C163.652-256.461,163.9-256.252,161.318-255.777Zm14,10.8a1.426,1.426,0,0,1,.474,1.081c0,.55-.493,1.119-4.99,5.6l-4.971,4.99h-10.36l-.455-.474a1.479,1.479,0,0,1-.474-1.044,1.479,1.479,0,0,1,.474-1.044l.455-.474h9.013l4.573-4.554c4.1-4.079,4.63-4.554,5.18-4.554A1.5,1.5,0,0,1,175.321-244.981Z" transform="translate(-122.693 298.559)" fill="#edeadf"/>
				</g>
				<text id="PITCHY" transform="translate(820.517 508.72)" fill="#edeadf" font-size="30" font-family="Comfortaa" font-weight="700"><tspan x="0" y="0">PITCHY</tspan></text>
			</g>
		</svg>
		<div class="next-button" @click="nextState">
			<svg xmlns="http://www.w3.org/2000/svg" width="18.634" height="30.705" viewBox="0 0 18.634 30.705">
				<path id="Icon_awesome-chevron-right" data-name="Icon awesome-chevron-right" d="M20.073,19.193,6.408,32.858a1.687,1.687,0,0,1-2.386,0L2.427,31.264a1.687,1.687,0,0,1,0-2.384L13.254,18,2.425,7.119a1.687,1.687,0,0,1,0-2.384L4.021,3.142a1.687,1.687,0,0,1,2.386,0L20.072,16.807A1.688,1.688,0,0,1,20.073,19.193Z" transform="translate(-1.933 -2.648)" fill="#efc75e"/>
			</svg>
		</div>
	</div>
</template>

<script>
import {SOCKET} from "@/utilities/helpers"

export default {
	name : "Header",
	methods : {
		nextState() {
			SOCKET.emit('load_next_state')
		},
	},
	mounted() {
		SOCKET.on('load_next_state', data => {
			
			console.log('loading next state');
			
			['question', 'story'].includes(data.state)
				? this.$router.push('/' + data.state + '/' + (parseInt(data.index) + 1))
				: this.$router.push('/' + data.state)
			
			SOCKET.off('load_next_state')
		})
	}
}
</script>